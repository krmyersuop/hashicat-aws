root@workstation:~/hashicat-aws/json# export TOKEN=$(grep token /root/.terraform.d/credentials.tfrc.json | cut -d '"' -f4)
root@workstation:~/hashicat-aws/json# export ORG="uop-krm"
root@workstation:~/hashicat-aws/json# curl   --header "Authorization: Bearer $TOKEN"   --header "Content-Type: application/vnd.api+json"   --request POST   --data @var-height.jsoncurl: no URL specified!curl: try 'curl --help' or 'curl --manual' for more informationroot@workstation:~/hashicat-aws/json# curl   --header "Authorization: Bearer $TOKEN"   --header "Content-Type: application/vnd.api+json"   --request POST   --data @var-height.json https://app.terraform.io/api/v2/vars
{"data":{"id":"var-Yifrxcc3ggXRwDN1","type":"vars","attributes":{"key":"height","value":"600","sensitive":false,"category":"terraform","hcl":false,"created-at":"2020-10-20T00:23:34.922Z","description":null},"relationships":{"configurable":{"data":{"id":"ws-gtCbaqjNRHWXzXSE","type":"workspaces"},"links":{"related":"/api/v2/organizations/uop-krm/workspaces/hashicat-aws"}}},"links":{"self":"/api/v2/workspaces/ws-gtCbaq[B[B: command not found
root@workstation:~/hashicat-aws/json# curl   --header "Authorization: Bearer $TOKEN"   --header "Content-Type: application/vnd.api+json"   --request POST   --data @var-width.json https://app.terraform.io/api/v2/vars
{"data":{"id":"var-76x8Ju5iMMoHMQdX","type":"vars","attributes":{"key":"width","value":"800","sensitive":false,"category":"terraform","hcl":false,"created-at":"2020-10-20T00:24:28.766Z","description":null},"relationships":{"configurable":{"data":{"id":"ws-gtCbaqjNRHWXzXSE","type":"workspaces"},"links":{"related":"/api/v2/organizations/uop-krm/workspaces/hashicat-aws"}}},"links":{"self":"/api/v2/workspaces/ws-gtCbaqjNRHWXzXSE/vars/var-76x8Ju5iMMoHMQdX"}}}root@workstation:~/hashicat-aws/json#
root@workstation:~/hashicat-aws/json# curl   --header "Authorization: Bearer $TOKEN"   --header "Content-Type: application/vnd.api+json"   --request POST   --data @var-placeholder.json https://app.terraform.io/api/v2/vars
{"data":{"id":"var-td4fmHgJhfMBctTj","type":"vars","attributes":{"key":"placeholder","value":"placekitten.com","sensitive":false,"category":"terraform","hcl":false,"created-at":"2020-10-20T00:24:52.493Z","description":null},"relationships":{"configurable":{"data":{"id":"ws-gtCbaqjNRHWXzXSE","type":"workspaces"},"links":{"related":"/api/v2/organizations/uop-krm/workspaces/hashicat-aws"}}},"links":{"self":"/api/v2/workspaces/ws-gtCbaqjNRHWXzXSE/vars/var-td4fmHgJhfMBctTj"}}}root@workstation:~/hashicat-aws/json#
root@workstation:~/hashicat-aws/json# curl   --header "Authorization: Bearer $TOKEN"   --header "Content-Type: application/vnd.api+json"   --request POST   --data @apply.json https://app.terraform.io/api/v2/runs
{"data":{"id":"run-GoxsiZFUTeFQBdmj","type":"runs","attributes":{"actions":{"is-cancelable":true,"is-confirmable":false,"is-discardable":false,"is-force-cancelable":false},"canceled-at":null,"created-at":"2020-10-20T00:26:00.380Z","has-changes":false,"is-destroy":false,"message":"Terraform Cloud API is Magic! ü¶Ñ üåà üßô‚Äç‚ôÇÔ∏è","plan-only":false,"source":"tfe-api","status-timestamps":n-queueable-at":"2020-10-20T00:26:00+00:00"},"status":"pending","trigger-reason":"manual","target-addrs":null,"permissions":{"can-apply":true,"can-cancel":true,"can-comment":true,"can-discard":true,"can-force-execute":true,"can-force-cancel":true,"can-override-policy-check":true}},"relationships":{"workspace":{"data":{"id":"ws-gtCbaqjNRHWXzXSE","type":"workspaces"}},"apply":{"data":{"id":"apply-5XA3s3QksnLr5Nq8","type":"applies"},"links":{"related":"/api/v2/runs/run-GoxsiZFUTeFQBdmj/apply"}},"configuration-version":{"data":{"id":"cv-nWpnHk6niajoDrWV","type":"configuration-versions"},"links":{"related":"/api/v2/runs/run-GoxsiZFUTeFQBdmj/configuration-version"}},"cost-estimate":{"data":{"id":"ce-a9tPW1ir5ndLHLN8","type":"cost-estimates"},"links":{"related":"/api/v2/cost-estimates/ce-a9tPW1ir5ndLHLN8"}},"created-by":{"data":{"id":"user-pbMywHtSuH5whH2o","type":"users"},"links":{"related":"/api/v2/runs/run-GoxsiZFUTeFQBdmj/created-by"}},"plan":{"data":{"id":"plan-jXUe9159qTo66MLy","type":"plans"},"links":{"related":"/api/v2/runs/run-GoxsiZFUTeFQBdmj/plan"}},"run-events":{"data":[{"id":"re-zdnwv9KkoL9AhKcQ","type":"run-events"}],"links":{"related":"/api/v2/runs/run-GoxsiZFUTeFQBdmj/run-events"}},"policy-checks":{"data":[{"id":"polchk-uqhiNL2gR1yD9geA","type":"policy-checks"}],"links":{"related":"/api/v2/runs/run-GoxsiZFUTeFQBdmj/policy-checks"}},"comments":{"data":[],"links":{"related":"/api/v2/runs/run-GoxsiZFUTeFQBdmj/comments"}}},"links":{"self":"/api/v2/runs/run-GoxsiZFUTeFQBdmj"}}}root@workstation:~/hashicat-aws/json#